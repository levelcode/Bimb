$(function(){function e(){var e=new Image;e.src=i[a],e.onload=function(){var n=e.width,t=(($(".canvas").width()-n)/2,s.getCenter());s.setOverlayImage(i[a],s.renderAll.bind(s),{top:30,left:t.left,originX:"center",originY:"top"}),e={}},a++,4==a&&(a=0)}function n(){$(".canvas").height($(".canvas").width())}function t(e,n){if(e.files&&e.files[0]){var t=new FileReader;t.onload=function(e){n.attr("src",e.target.result),setTimeout(function(){var e=document.getElementById("img-load"),n=new fabric.Image(e,{left:0,top:0,angle:0,opacity:1});s.add(n),s.moveTo(n,-9999)},100)},t.readAsDataURL(e.files[0])}}var a=0,i=["../assets/texts/f1.png","../assets/texts/f2.png","../assets/texts/f3.png","../assets/texts/f4.png"];n();var s=new fabric.Canvas("canvas",{preserveObjectStacking:!0,selection:!1});fabric.Image.fromURL("../assets/background-canvas.png",function(e){s.add(e),s.moveTo(e,9999)},{left:0,top:0,angle:0,opacity:1,lockMovementX:!0,lockMovementY:!0,hasBorders:!1,hasControls:!1,evented:!1}),$(".photo .canvas .canvas-container").on("click",function(n){e()}),$(".btnc input.file").on("change",function(e){if("undefined"!=typeof this.files[0]){this.files[0];t(this,$(this).siblings("img"))}}),$(".btnc input.file").hover(function(){$(this).next().addClass("hover")},function(){$(this).next().removeClass("hover")}),$(window).on("resize",function(e){n()}),e()});