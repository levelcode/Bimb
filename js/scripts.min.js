$(function(){function e(){$(".canvas").height($(".canvas").width())}function n(e,n){if(e.files&&e.files[0]){var t=new FileReader;t.onload=function(e){n.attr("src",e.target.result),setTimeout(function(){var e=document.getElementById("img-load"),n=new fabric.Image(e,{left:0,top:0,angle:0,opacity:1});i.add(n),i.moveTo(n,-9999)},100)},t.readAsDataURL(e.files[0])}}$(window).on("resize",function(n){e()});var i=new fabric.Canvas("canvas",{preserveObjectStacking:!1});i.setOverlayImage("../assets/background-canvas.png",i.renderAll.bind(i),{originX:"left",originY:"top",left:0,top:0,zindex:999}),$(".btnc input.file").on("change",function(e){if("undefined"!=typeof this.files[0]){this.files[0];n(this,$(this).siblings("img"))}}),$(".btnc input.file").hover(function(){$(this).next().addClass("hover")},function(){$(this).next().removeClass("hover")})});